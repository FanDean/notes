# 《学习VI和VIM编辑器 第7版》

`Ctrl + s` 冻结， `Ctrl + q` 解冻.



`````
《学习VI和VIM编辑器 第7版》
第一天2015.3.20：



笔记格式
	关键字： xxx xxx xxx 
	通用重点标记符号




^p 下拉菜单匹配选择  ^n向下补全
控制符输入先按 ^v 再输入相应的控制符如：要输入Esc 则 ^v[Esc] 产生





$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$

第一章：vi文本编辑器
行编辑器：像ed或ex；   一次只能在屏幕上显示文件中的一行。
全屏编辑器：vi 或 emacs ，可以在屏幕上显示文件中的一部分。
vi是 visual editor 可视化编辑器的简写 读作"vee-eye"

vi的命令有如下特点：
		* 字母大小写有区别
		*在输入时不会显示在屏幕上
		*不需要在命令后加上 Enter 键

同时有另一组命令显示在屏幕的底端，而这些命令前有特殊的符号。如斜线（/）与问号（？）用于开始搜索命令；冒号（:）用于开始所有的ex命令，ex命令是ex行编辑器使用的命令。

vi的两种运作模式：
		命令模式(command mode)
		插入模式(insert mode)
		ex行编辑模式 (底端有冒号：)

vi简史：无法读懂

打开与关闭文件
		vi将要编辑的文件复制到缓冲区（内存中另外设置的暂存本地内容的部分），显示缓冲区（虽然一次只能看到一个屏幕尺寸的部分），并且让你增加、删除与更改文本。
		存储编辑的结果时，vi则把缓冲区中的内容写回到永久的文件中，替换同名的旧文件。
		记住：你永远是在缓冲区里的文件副本上作业。

保存与离开文件：
		在命令模式输入大写ZZ
		或用ex命令保存编辑结果；:w 写入  :q 退出  :wq保存退出

结束而不保存：
		可用以下ex命令
		:e!         ;消除本次所有编辑结果
		:q!         ;消除编辑并直接离开

另存文件：
		输入:w! file 以覆盖现有的文件。
		输入:w newfile 将缓冲区写入一个新文件。



$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$

第二章：简单的文本编辑
移动光标：
		移动光标：可在移动命令的前面加上数值参数
		在一行中移动光标： 数字0移到行首；$移到行尾。
		按照文本块来移动：w 命令一次向前移动一个单词，符号，标点；而大写W不包括标点符号。
		后退一个单词b 命令。
		移动到单词尾部 e 


简单的编辑：
		i表示插入
		a表示添加
		c表示更改
		d表示删除
		o在下一行插入
		移动：先用d删除，再用p进行放置
		复制：先用y拖拽，再用p进行放置
		
更改文本：
	使用命令c ；为了告诉c有多少文本需要更改，可以把c与光标移动命令一起使用。
	cw       	从光标到这个单词的结尾
	c2b      	从光标往前两个单词 
	c$和 C	从光标到本行结尾
	c0		从光标到此行的开头
	cc  	更改整行，添加数字可用于多行。
	

替换文本：
	替换命令s	可结合数字使用，并进入编辑模式。
##################################################
	s	只与数字结合使用			作用：单个字符 
	c	只与光标移动命令一起使用	作用：多个字符
##################################################
	S			和cc类似
	r 	把一个字符替换成另一个，结束后不必直接回到命令模式
	R	进入覆盖模式，最多覆盖一行，很好用。


大小写转换：
	用波浪号 ~


删除文本d ：
	删除单词和紧跟的空格  dw （当光标位于单词首部时，当光标位于单词中间则只删除后部字符）
	de	只删除单词不删除后面的空格
	删除一行 dd    可与数字结合
	D 是d$的缩写
	x  删除一个字符  （用字母x 的原因可能是打字机来“消除”x-ing out 错误的意思吧）
	X 删除光标前的一个字符
	
移动文本
	vi中采用“删除后再放置文本”的方法使文本移动
	小写p  放置在光标后或下一行
	大写P  放置在光标前或上一行      （具体看你的删除操作）

	对调两个字母
		用xp  （删除一个字符，再放到光标后面）


复制文本
	使用两个命令y(拖拽) p(放置)，就可复制任何数量的文本，并放置到另一个地方
	拖拽或删除命令会将选中的文本放置在一个特殊的缓冲区中，一直保留到下一个拖拽或删除命令


重复和撤销上一个命令
	重复 .
	撤销 u
	^c  重做 redo




插入命令的数值参数（一些书中称其为重复因子）
	通过数值前缀你可以用i,I,a,A等命令插入一整行的下划线等
	20a*[ESC]		在一些老版本的vi中数量超过一行时不行
	25a*_[ESC]		追加25对*_ 
	
	r将允许多字符替换成重复的单一字符
	如：将&&替换成||，只要2r|



	训练自己记得这些常用的命令，变成反射动作，对你将大有帮助



用J来合并两行
	将光标移动到第一行的任何位置，按下J 


$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$

第三章：快速移动位置
	根据屏幕来移动
		滚动一整屏
		^F	往前滚动一整屏
		^B	往后滚动一整屏
		^D	往前滚动半屏
		^U	往后滚动半屏
		
	用z重新调整屏幕位置
		z	将光标位置移到屏幕顶端
		z.	将光标位置移到屏幕中心
		z-	将光标位置移到屏幕底端
		在z前面加上行号 则将该行置于相应位置

	重画屏幕
		^L	消除多余信息「暂不明白」刷新屏幕

		^G		显示当前行号

	在屏幕中移动
		H	移动到屏幕顶端一行
		M	移到屏幕中央的行
		L	移到屏幕底端的行
		nH	移到屏幕顶端往下的第n行
		nL	



	根据行移动
		[ENTER]	移到下一行的第一个字符
		+		移到下一行的第一个字符
		-		移到上一行的第一个字符


		在当前行移动
			^		移动到当前行的第一个非空格处
			n|		移到当前行的第n列

	根据文本块来移动
		e	移到单词的结尾
		E	移到单词的结尾（忽略标点符号）
		(	移到当前句子的开头
		)	移到下一个句子的开头
		{	移到当前这段的开头
		}	移到下一段的开头
		[[	移到当前这一节的开头
		]]	移到当前这一节的开头
		关于vi是如何辨认句子的结束，与段落的定义见 P45




	根据搜索模式的结果来移动
		/pattern
		?pattern

		重复搜索
			n	往同一方向重复搜索
			N	往不同一方向重复搜索
			/[ENTER]	往前重复搜索
			?[ENTER]	往后重复搜索

----------------------------------------
		通过搜索修改文本
			/与? 可与更改文本的命令结合
			如：
				d?move		: 从光标位置向前删除到出现move的地方
----------------------------------------



		在当前行中搜索：
			fx	命令将光标移到下一个出现x字符的地方。
			tx	命令将光标移到下一个出现x字符的前一个字符
			用分号;  继续搜索出现的x字符。

		下面列出了行内搜索命令
			Fx	搜索本行中上一个出现x 的地方。
			Tx	
			;	重复上一次搜索，方向相同。
			,	重复上一次搜索，方向相反。


		dfx		会删除到下一个x字符的所有文本
		ct		可用于更改一个句子的内容，而留下最后的句号。


	根据行号来移动：
		:set nu	
		
		G(转至)命令

----------------------------------------
		输入反引号 `` 会回到原来的位置
		输入引号''  回到原来行的开头位置
----------------------------------------

$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$

第四章：越过基础的藩篱(fanli)

组合命令的形式：
	(number) (command) (text object)

	number	数值参数
	command	是c、d或y
	text object 是一个移动命令



打开vi的选项
	前进到特定的位置(POSIX标准应该用-c command即减号)
	    vi +n file		在第n行打开file
		vi + file		在最后一行打开file
		vi +/pattern file	在第一个出现pattern的地方打开file
		+/pattern 在编辑途中需要离开时，先做一个标记如：zzz等，下次打开文件时就搜索进入。
		（环境变量wrapscan禁用时则不能用 +/pattern）




	只读模式：
		vi	-R file
		进入后也可强制写入 w!


	恢复缓冲区：
		恢复系统死机时的编辑缓冲区。
		ex -r  或
		vi -r
		将列出系统保存下来的所有文件列表。

		在-r 后加上文件名，即可恢复该文件的编辑缓冲区。

		使用:pre  命令，你可以强制系统即使没有死机也保存缓冲区。
		如果你编辑了某个文件，后来发现因为没有写入权限而不能保存时，可用此方法。（你可以将这些内容写入另一个可操作的文件）



善加利用缓冲区：

	vi 中有1~9个 用来保存一整行删除内容的  编号缓冲区。
	vi 中也有a~z 即26个字母标识的  命名缓冲区。



	恢复删除：
		恢复特定 编号缓冲区 中的内容
		"2p			恢复缓冲区2中的内容（倒数第二个编号缓冲区）
	
		如果不确定是哪一个编号缓冲区，可利用在恢复(p)一次后利用重复命令(.)做恢复，缓冲区的编号便会自动增加，再加上用u撤销恢复，即可用下例搜索编号缓冲区：
		"1p.u.u (依次类推)


	将文本拖拽到命名缓冲区中：p58
		要将文本拖拽到命名缓冲区，需在拖拽命令前加上 " 以及缓冲区的名字。例如：
		"dyy		将当前行拖拽到缓冲区d中
		"a7yy		将后续7行拖拽到缓冲区a中

		拖拽的内容取回
			"dP		将缓冲区d中的内容放置在光标前
			"ap		将缓冲区a中的内容放置在光标后


		将删除的文本保存到命名缓冲区
			"a5dd	将删除的5行保存到命名缓冲区


此处略过部分内容
	如对一处做标记



$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$



第五章： ex编辑器概述

	vi是  更通用、更底层的ex行编辑器的“可视模式”

	ex 命令：
		在vi或任何满屏编辑器发明前，人与计算机需要依靠打印终端来沟通，而不是在阴极射线管（CRT）上沟通。
		行号可以用于快速的识别工作文件的一部分，而行编辑器就是用来编辑这些文件。
		编辑者或其他用户通常会在打印终端上打出一行（或多行），下达编辑命令更改这一行后，在重新打印出这一行以供检查。


--------------------------------------------------
用ex行编辑器打开文件：
	ex filename
	后你不会看到文件中的任何内容。
	
	ex 命令包含了行地址以及命令，（也可只有行号）

	命令p 打印
	:1p					打印第一行内容；
	:1,3					省略了命令p,打印1~3行内容；

    没有行号的命令则只作用与当前行。

	替换命令 s
	:1
	:s/screen/line/
	与下面的相同
	:1s/screen/line/
	将第一行的screen 替换成 line .

	:vi			命令，让你从 ex 进入 vi
-------------------
在vi中使用ex 命令 ：
	想在vi 中移到文件的第6行只需输入
	:6
--------------------------------------------------

用ex编辑：
	
	d		删除行
	m		移动行
	co		复制行
	t		复制行（与co同）

	尽量避免使用空格来分隔ex命令的多个部分来 增加可读性，因为，使用空格有很多需要注意的地方。	

	行地址：
	指定行地址的方法：
	* 指定明确的行号
	* 用符号来指定相对于当前位置的行号
	* 标识某些行的搜索模式作为地址


	定义行范围：
	明确指定行号的地址称为绝对行地址，如：		
	:3,18d				删除第3行到第18行。
	:160,224m23			将160到224行移到23行后
	:23,29co100


	暂时显示某些行号
		（在vi中）
		:1,10#			暂时显示1~10行行号
		^G				显示当前行的编号
		
		（ex中）
		:=				列出文件的总行数。
		:.=				列出当前所在行行号。
		:/pattern/=		列出pattern第一次出现的行号。


	行寻址符号：
----------------------------------------
		用符号表示行地址 
		点号.		当前行
		$			文件最后一行
		%			表示文件中的每一行
----------------------------------------
		:.,$d		删除当前行到文件结尾文本
		:20,.m$
		:%d
		:%t$

	
	相对当前[光标]行地址：
		+
		-			(使用+、-时可以省略.)
		如果后面没有接数字 则默认为1
		数字0表示文件的开头   0与1- 相同

		:.,.+20d	删除当前行到之后20行
		:226,$m.-2	将第226行到文件结尾的行移到当前行的两行之前
		:.,+20#
		:-,+t0
----------------------------------------
	重定义当前行位置：
		以;代替,
		:100;+5 p		以100行为当前行，而忽略光标所在行。


	搜索模式：Page67
		用搜索模式指定行地址 ********

		:/pattern/d		删除包含pattern的行
		:/pattern/+d	与:/pattern/+1d同删除包含pattern行的下一行
		:/pattern1/,/pattern2/d   删除搜索字符之间的行
		:.,/pattern/m23


	全局搜索：
		ex的全局命令 g
		:g/pattern/p
		:60,124g/pattern/p	搜索之间的pattern



	文件另存：
		:w filename.new

	保存文件的部分：
		:230,$w newfile
		:340,$w >>newfile


	:r filename
	:35r /home/filename

----------------------------------------
	编辑多个文件：
		vi file1 file2	同时打开多个文件
		:n				调用下一个文件

	调用新文件：page74
		:e filename
		:e #			回到另一个文件

	在vi中切换文件：
		无需进入ex模式
		Ctrl + ^ 




$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$
  第六章    全局替换

global repacement 全局替换

	ex命令：:g (global,全局)    与 :s (substitute,替换) 
			（见上文中的全局搜索）
			命令 :g 会影响文件中的每一行，位于开头。
			
			:s/old/new      将当前行第一个出现的模式old改为new
			:s/old/new/g	末尾的g选项表示全局（会影响一行中的每个模式）

	确认替换：
		添加c选项  (confirm 确认)
		:%s/old/new/gc
		输入y+Enter 确认，而输入Enter 是不替换。


----------------------------------------
		假设你需用that更改文中部分which，你可以检查每一个出现的which，并且改变要改变的部分。
		/which			搜索which
		cwthat [Esc]	改成that
		n				重复搜索
		n				重复搜索，省略一次改变
		.				重复改变（如应该改变）
----------------------------------------
		:r newfile		将newfile文件读入
....
....
未完...



$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$
第七章	高级编辑方法


	:set命令
		:set option			on
		:set nooption		off


		:set all			显示完整选项的列表
		:set option?		显示其当前值



	.exrc文件
		vi除了读取主目录的.exrc，也可读入当前目录的.exrc，如此可对特别的项目设置适当的选项。
		在读入当前目录中的.exrc文件之前，你需要先在你的主目录的.exrc文件中设置.exrc选项。
		set exrc

		当前目录的.exrc文件对定义缩写与映射键很有用。


		:set wrapmargin=7	设置自动换行的右边界距离


----------------------------------------
	执行Unix命令：
		!			告诉ex创建一个shell
		:!command	
		
		执行多个Unix命令：
		:sh
-------	要结束按^d

		将命令结果读入文件：
		:r !command
		如：:r !sort phone

	
	通过Unix命令过滤文件：
		
		1.用ex过滤文本
			:96,99!sort		将96到99行间的文本送给sort过滤，其结果替换原有内容。

		2.用vi过滤文本
		...略



	单词缩写：
		使用ex命令：
		:ab abbr phrase	在abbr替换phrase;当只有单个abbr时
		
		输入非字符时展开

		取消缩写：:unab phrase
		列出当前定义的缩写：:ab

		缩写所用字符不可出现在替换词组的词尾


	使用map命令：
		为命令模式定义宏
		操作与ab类似

		映射字符时，避开在命令模式中使用的命令。
------------------------------
		在定义映射命令时，某些键不能单独的输入，例如 Enter  Esc  BackSpace Delete ，因为这些键在ex中已经定义了。
		如果想将这类按键作为命令序列的一部分，则需在按 Ctrl-v ，转换按键的正常意义(转义)。
		在映射命令中，按键^v 表示成^ 字符； 换行变成^M ,转义是^[ , 退格是 ^H 等等。
------------------------------
		另一方面，如果要将控制字符作为映射命令，一般只需按着 Ctrl 键并同时按下 字母键。如将^A作为映射键的方法： :map ^A sequence
		然而 T , W ,X 这三个要先按Ctrl-v再进行以上操作。
------------------------------
 


复杂的映射范例：
	...

$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$
第九章 vim (vi Improved)概述


概览：
作者与简史：
Bram 从一个类似vi但不够完美、但开源的编辑器stevie；开始制作一个更兼容于vi的编辑器，并修正错误。
今天的vim是功能最全面的类vi编辑器之一。

功能分类：
有些功能只是扩充了用户对vi的希望；
有些是vi中未曾出现的全新功能；
也可通过用vim的内置脚本语言来扩充与自定义需求，vim中没有的功能。

取得Unix与GNU/Linux环境中的Vim：
解压源码包
configure 文件是个脚本，用于配置编译参数。大多数配置工作应该留给脚本，由它检查主机环境并根据系统安装的软件而决定功能的打开与否。
以make实用程序构建vim
以root身份安装程序：make install 否则需指定完全路径名称或把vim的目录加入每个用户的可执行路径(executable path)来调用它。

取得Windows环境中的vim：
1.安装可执行文件 gvim.exe
2.安装Cygwin (一个把常用GNU工具移植到Windows的套件),vim能在Cygwin运行良好，但gvim则需要X Window System server 才能运行；相关配置见书本，或google。

$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$
	第十章  vim对vi的主要改进

内置帮助功能
	:help 

启动与初始化选项
	命令行选项
	与命令名称相关的行为
	配置文件
	环境变量

新的移动命令：
	命令					说明
	C-End				转至文件的末端,或加上数字转到某行的末端。
	C-Home				
	count%				转到依据文件百分比计算的行，如50%
	:go n				转到缓冲区的第n个字节


------------------------------
可视模式的移动：
	vim让用户能以可视化的方式定义所选项，且能在此可视化选项上执行编辑命令。
	这个功能与在图形化编辑器中点击并拖动鼠标造成的高亮效果很像。
	可视模式提供了确认工作执行范围的便利性，而且所有具有此功能的vim命令都可在所见的已选择文本上工作。
	这项功能让我们能在较不复杂的编辑器里能对高亮的文本执行比传统剪切与复制更为复杂的工作。

	在vim里选择一个可视区域，就像其他编辑器采取点击并拖动鼠标而形成的效果一样。
--------------------
	在正常模式中输入 v 进入可视模式：

	在可视模式中，vim使用一些特有命令，方便我们借由选择光标附近的文本对象而扩展所选文本。
	命令				说明
	<count>aw		选择count所指定的单词数量
	<count>iw		选择count所指定的单词数量，分隔单词的空格也视为一个词
	as,   is		增加选择一个句子，或增加内部句子(inner sentence,不含空格)
	ap , ip			增加选择一个段落。


扩展的正则表达式
			... ...

自定义可执行文件
	



$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$
	第十一章	vim 的多窗口功能

多窗口简化工作的例子：
	* 编辑许多需要采取相同格式的文件时，一定想从视觉上先行比较，再分别编辑
	* 可在许多文件或某个文件的多个部分间快速的复制文本的剪切与粘贴
	* 显示文件的某个部分供参考，以协助同一文件中其他部分的工作
	* 比较同一个文件的两个版本

vim提供许多管理窗口的便利功能：
	* 水平或垂直分割窗口
	* 快速在窗口间前进与后退的导航能力
	* 复制并移动文本到多个窗口
	* 工作时可搭配缓冲区
	* 可与外部工具一同使用；如diff命令

启动多窗口编辑
	从命令行启动多个窗口
		使用 vim 的-o选项 例：		vim -o file1 file2   

	Vim 的多窗口编辑
		使用 :split 创建新窗口

		--------------------
		注意：本章提到的许多命令，都有便捷的按键序列。例如 ^ws分割窗口(所有vim的窗口相关的快捷按键均以^w 开始，窗口window命令)
		但命令行的方式还提供可选参数的额外功能。
		--------------------
		:vsplit			垂直分割
		:split otherfile	在新窗口中编辑另一个文件



打开窗口
--------------------
	分割窗口的选项
		完整的打开新的水平窗口的:split 命令如下：
		:[n]split [++opt] [+cmd] [file]
		命令中：
		n				为vim指定在新窗口中显示的行数，新窗口位于画面顶端。
		opt				传递vim选项信息给新的窗口会话 (前面必须加上两个++)
		cmd				传入欲在新窗口中执行的命令，需加上 +
		file			指定在新窗口中编辑的文件

	:[n]new [++opt] [+cmd] [file]		打开空白的新窗口，水平
	:   vnew							垂直

--------------------
	在窗口间移动光标
		直接用鼠标移动： 需设置 :set mouse=a

		使用键盘控制：
			先键入 ^w	再 利用h j k l 移动
	----	或使用更方便的方法：
				^w^w  按住Ctrl不动，再连续按w.



	移动窗口
--------------------
	轮换或交换窗口(只限两个窗口，只交换位置，不改变大小)：
		^w r			向下或向右轮换窗口
		^w R			与上面相反



	移动窗口并改变其布局：
		命令		说明
		^WK			移动当前窗口至屏幕顶端，使用屏幕的全部宽度。
		^WJ
		^WH
		^WL
		^WT			移动当前窗口至新的现有分页


	调整窗口尺寸(可在操作前添加数字)：
		高度：
		^w=			相等
		^w-			减少		也可用命令 :resize -1
		^w+			增加
		:resize	n	设置当前窗口为n行
	--------------------
	注意：技巧，可将^w+ 与 ^w- 映射为自定义按键；而且两个按键最好紧邻，方便调整。
		可分别映射为 shift + 与 shift - ； + - 在vim中的作用不大。

		宽度：
		^w<			减少
		^w>			增加
		^w|			最大宽度


	窗口尺寸调整选项： P200
		在窗口变为“活动中(active)”时，winheight 与 winwidth 分别定义窗口的最小高度与宽度。
		例如，屏幕可容纳两个相同尺寸为45行的窗口,如果winheight设置为60行，则每次把活动的窗口调整为60行。
		可在切换窗口、切换文件时自动增加窗口尺寸，以提供最大上下文范围。

		equalalways			...
		cmdheight			设置命令行的高度


	
------------------------------
	缓冲区及其与窗口的互交 p201
------------------------------
	Vim 使用缓冲区作为工作对象的容器。完全了解缓冲区乃是必须技能。也有很多控制缓冲区及在其上移动的命令。

	当打开几个窗口并编辑不同文件时	
		现在使用命令:ls   :files   :buffers  可列出缓冲区
		每个文件对应一个缓冲区，且都有一个独一无二的编号，如果在这几个命令后加上! 还能列出更多额外信息。

	状态标志：
		状态代码					说明
		u						在命令后加上! 才会列出的非列出缓冲区,可用其知道自己正在浏览那份vim帮助文件。
		% 或(相对地)#			%表示当前窗口所用的缓冲区；
								#则是使用:edit # 后跳到的缓冲区。
		a 或(相对地)h			a表示活动中的缓冲区，意为该缓冲区已载入且可见。
								h 则表示隐藏的缓冲区，存在但不能在任何窗口中查看。
		- 或(相对地)=			- 表示缓冲区把modifiable 选项关闭了，这个文件为只读文件；
								= 表示该文件是不能把状态修改为可调整的只读文件(例我们没有写入权限)
		+ 或(相对地)x			+ 指出缓冲区可以调整； x 表示缓冲区具有读入错误。


		
	

	Vim 的特殊缓冲区
		Vim 系统自身使用的一些缓冲区称为特殊缓冲区(special buffer),
		例如：vim的帮助缓冲区，一般而言这些缓冲区不能被编辑。
		
		列举4种特殊缓冲区：
		quickfix
			包含因为我们的命令或位置列表而创建的错误列表。(可分别使用:cwindow   :lwindow 查看)
			它能帮助程序员重复 "编辑- 编译 - 调试" 周期。

		help
			包含vim的帮助文件； :help 将这些文本文件放入特殊缓冲区。

		directory
			包含目录的内容，也就是某个目录中的文件列表。

		scratch
			这些缓冲区包含一般用途的文本。其中的文本可扩充，而且随时可被删除。

		
	隐藏缓冲区
		隐藏缓冲区是不显示于任何当前窗口里的vim缓冲区。
		如果考虑到多窗口所能占据的屏幕面积，又不想经常下达取得和重写文件的命令，隐藏缓冲区可使编辑多个文件变得较为容易。
		假设你正在编辑myfile文件，但偶尔又想编辑另一个文件myOtherfile。如果设置了hidden 选项，即可用:edit myOtherfile编辑
		myOtherfile，这时将隐藏myfile的缓冲区，而在它的位置上显示myOtherfile的缓冲区。

	
------------------------------
	缓冲区命令：
		windo cmd	
			其是"window do" 的简称，这个伪缓冲区命令(它其实是个窗口命令) 在每一个窗口中都执行一次cmd命令；
			cmd能使用符号|分割多个要在每个窗口中都执行的命令，它与shell的管道不同。 P203

		bufdo[!] cmd
			与windo类似，但操作对象是所有编辑会话的缓冲区，而不止是当前分页中的可见缓冲区。!为可选项。

	缓冲区命令概要：
		:ls[!]		列出缓冲区与文件名；如果加上! ,则包含非列表缓冲区。
		:files[!]
		:buffers[!]
		:ball		编辑所有参数或缓冲区
		:badd file	把file加入列表
		:bunload[!]	从内存卸载缓冲区
		:buffer [n]	移向缓冲区n
		... ...


	在窗口里追踪标签
		。。。 P205



------------------------------
	分页编辑
		创建多个分页(tab) 
		
		:tabnew [filename]
		:tabclose			关闭当前分页
		:tabonly			关闭其他所有分页



	关闭与离开窗口：
		四种关闭窗口的方式，且均特别与窗口编辑有关:
		离开 quit
		关闭 close
		隐藏 hide
		关闭其他窗口 only




$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$
	第十二章	vim脚本





$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$
	第十三章	图形化 Vim (gvim)






$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$
	第十四章  程序员专用的vim强化功能


关键字：折叠 大纲

	折叠与大纲(大纲模式)
		折叠共有两个步骤：
		首先，使用任意一种折叠方式，在构成块的文本中定义需要折叠的内容。
		下一步，使用折叠命令时，Vim即隐藏指定的文本并在他的位置留下一行占位符。

		我们可以使用折叠占位符管理隐藏起来的文本行。



		vim提供了6种定义、创建、操纵折叠的方式。
		创建褶叠的6种方式：

		manual
			以标准vim 结构定义折叠跨越的范围，类似移动命令。

		indent
			折叠与折叠的层次，对应于文本的缩排与 shiftwidth 选项值。

		expr
			以正则表达式定义折叠。

		syntax
			折叠对应于文件所用的程序语言语义(例如C程序的函数块即可折叠)
		
		diff
			以两个文件间的差异定义折叠。

		marker
			以文件中的预定义标记指定折叠边界。


	所有方式对折叠的控制(打开与关闭、删除等)都一样。本书将介绍手动(manual)折叠，其它折叠的细节超出本书范围。
	

	折叠命令：
		折叠命令均以z 开头

		zA			递归切换折叠状态
		zC			递归关闭折叠
		zD			递归删除折叠
		zE			去除所有折叠
		zF			创建折叠，范围从当前的行开始到光标移动后到达的位置结束(借由移动命令改变光标位置)。
		countzf		创建涵盖count 行的折叠，从当前的行开始。
		zM			设置foldlevel 选项为 0
		zN，zn		设置(zN)或复位(zn) foldenable 选项
		zO			递归打开折叠 ,是大写o
		za			切换一个折叠的状态
		zc			关闭一个折叠
		zd			删除一个折叠
		zi			切换foldenable选项的值
		zj，zk		移动光标至下一个折叠开始的地方(zj),或前一个折叠的结尾处(zk)
		zm, zr		递减(zm) 或递增(zr)foldlevel 选项的值
		zo			打开一个折叠



关键字： 折叠 
------------------------------
	手动折叠
		结合vim的移动命令，就知道了折叠的一半知识。

		隐藏三行于折叠中为例可用
				3zF			对3行内容执行折叠命令zF,从当前的行开始。
				2zfj		从当前的行开始执行zf命令，范围到j移动光标所至的地方(向下两行)
		

		折叠{}中的代码： 先将光标放在一个括号上， 输入 zf%

		输入zfgg 可创建从光标位置到文件开始处的折叠

		zf 命令的行数计算规则是 ：    只计算看得见的行。(在嵌套折叠时注意)

------------------------------
		设置折叠栏(foldcolumn) 列数 : 
			:set foldcolumn=3			可显示双层折叠，以后每增加一层折叠，则需增加两列。

		注意：任何对折叠关闭状态时的一行采取的动作均影响到整个折叠。
------------------------------
	

	大纲：							关键字
		使用tab 做缩排
		可以使用Vim折叠形成伪大纲以观察你的文件，将折叠方式定义为 indent (缩进)
		:set foldnethod=indent
		-
		根据tab 使用的次数决定折叠的层次 ; tab的缩排层次 shifwidth 的值。
		-
		使用foldlevel命令可以控制可见的折叠层次。它接受一个整型参数，只显示折叠层次小于等于参数的行的内容。
		:set foldlevel=0


其它折叠方式：
	syntax (语法)折叠方式：
		掌握C里折叠的规则很复杂，只做简单介绍。
		-
	先确认折叠功能已经打开,输入 :set foldenable
	再输入						:set foldnethod=syntax
	则vim 自动折叠起所有花括号扩起的代码块，因为这是C的逻辑语义块。
	-


自动智慧缩排：
	vim为自动缩排文本提供四种复杂度与威力都递增的方式。
	只需再:set 里指定即可

	vim 提供下列缩排方式：
		autoindent			自动缩排方式，模仿vi的autoindent选项。
		smartindent			比autoindent稍强，能识别基础C语法元素，用于定义缩排层次。
		cindent				嵌入了更多C 语法理解能力，并在简单的缩排层次上引入了复杂的自定义方式。
		indentexpr			能让我们自定义表达式，Vim则根据开始每个新行时的上下文评估表达式。

	详细介绍见书本 ... ...

	关于缩排的注意点：
		复制与粘贴，时的缩排，可通过 :set paste      :set nopaste 设置，是否复制缩排。

	


关键字与字典词汇补全：
	vim 提供了一套无所不包的"插入 - 补全" (insertion-completion)功能套件。



vim 编译与检查错误P292



################################################
#	《vim实用技巧》
#
################################################

书本介绍：
	在 Vim中，对一件给定的任务，总能找到不止一种解决方法。
	先学会盲打，然后再学习 Vim。

	
	
`````








《Vim 实用技巧》
=================

<font face=楷体>
Practical Vim Edit Text at the Speed of Thought		
[美] Drew Neil 著  2012    
杨源 车文隆 译   2014.5   
图灵社区电子书 数字版权声明 ...     

本书源代码下载：<http://pragprog.com/titles/dnvim/source_code>

</font>





记录一些值得学习的技巧：

- 技巧24：用面向列块的可视模式编辑表格数据
- 技巧25：修改列文本
- 技巧26：在长短不一的高亮块后添加文本；利用 `$` 和 A 
  -

可视模式和ex模式都必须要学


















## vim 中的 Tab 

```
Tab制表符
简单：					(复杂的缩进设置未介绍)
set tabstop=4			"tabstop表示一个tab显示出来是多少个空格的长度
set softtabstop=4		"表示在编辑模式下按退格键时退回的长度，当使用expandtab时特别有用
set shifwidth=4			"表示每一级缩进的空格长度
set noexpandtab/expandtab	"是否将tab扩展成空格

根据文件类型来设置tab :
if has("autocmd")
		autocmd FileType javascript setlocal ts=4 sts=4 sw=4 expandtab
		autocmd FileType python setlocal ts=4 sts=4 sw=4 expandtab
endif
------------------------------------------------------------
第二种方法：
filetype indent on				"它将开启针对文件具体类型的缩进

如： filetype indent on
     autocmd FileType python setlocal et sta sw=4 sts=4

与自动缩进相关的变量表
		变量名			缩写	含义
		(no)autoindent	ai	自动缩进，为新行自动添加与当前行同等的缩进
		(no)cindent		ci	类似C语言程序的缩进
		(no)smartindent	si	基于autoindent的一些改进

与TAB相关的变量表：
		变量名			缩写	含义
						ts
						sw
						et
						sts
		smarttab		sta		在行首按TAB将加入sw个空格，关闭时则加入ts个空格

更详细的TAB学习见网站：
http://linux-wiki.cn/wiki/zh-hans/Vim代码缩进设置
```




## 乱七八糟

Vim usage
```
######################################################################
當時我退出時使用的命令爲:!q
從而無法退出，而真正要用的命令爲:q!

當代開系統只讀文件且進行了修改，之後無法退出。
		方法：
						ZQ				強制不保存退出。
						ZZ				強制保存退出。

網上介紹方法：
		保存文件  :w!sudo tee %
######################################################################


    在linux操作系统下，我们有时打开在windows下的txt文件，发现在windows下能正常
		  
显示的txt文件出现了中文乱码。

出现这种情况的原因为两种操作系统的中文压缩方式不同，在windows环境中中文压缩
 
一般为gbk，而在linux环境中为utf8，这就导致了在windows下能正常显示
txt文件在linux环境下打开呈现了乱码状态。

解决方法：在linux用iconv命令，如乱码文件名为shujujiegou.txt，那么在终端输入
												    
如下命令：
iconv -f gbk -t utf-8 shujujiegou.txt > shujujiegou.txt.utf8

------------------------------------------------------------
Linux和windows雙系統相互拷貝文件亂碼問題

http://linux.chinaunix.net/techdoc/install/2009/09/01/1133310.shtml

詳細介紹了 各種情形
		1.
		2.
		3.iconv 命令 轉換
		4. 文件名亂碼解決辦法  convmv 命令
			convmv -f 源編碼 -t 新編碼 [選項] 文件名
------------------------------------------------------------
######################################################################
```




