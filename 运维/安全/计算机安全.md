# 计算机安全

标签（空格分隔）： 安全

---

## 计算机安全
TCP/IP协议的分析工具

- 协议分析仪 Ethereal (开源)
- 入侵检测工具 Snort (开源)
- Windows自带的工具 netstat



计算机的安全分析工具：

- 防火墙，主要工作是保护主机及网络的安全，定制相关策略限制外网或者外来主机对本地的访问，抵御恶意的外来攻击。
- 入侵检测（Intrusion Detection System）工具，简称IDS。
- 扫描器。它能够从外部向网络中进行渗透，试图发现网络中存在的问题和威胁，并作出积极的评估。代表有Nmap和Nessus。
- 协议分析仪。该工具主要的作用是通过网络捕获数据包，解析数据包的格式，试图从数据包的数据字段中发现一些可能存在的问题。






> **Kali Linux**
> [Making a Kali Bootable USB Drive](http://docs.kali.org/downloading/kali-linux-live-usb-install)
> [Adding Persistence to a Kali Linux “Live” USB Drive](http://docs.kali.org/downloading/kali-linux-live-usb-persistence "在Live USB中永久保存文件")


## 传统攻击手法
**1.踩点：**

- 社交工程：通过人工或者网络手段间接获取攻击对象的信息资料；比如个人、单位资料(密码猜测)，网络拓扑图等信息（攻击路径和方式）。
- 搜索引擎：对目标散落在网络上的情况进行收集汇总。
- Whois方法：利用域名官方注册机构提供的域名搜索方式查询已经申请域名注册的公司或者个人的注册资料。
- DNS查询：DNS提供了nslookup命令，该命令可以查询DNS主机的信息和邮件服务器的信息，这些信息对于判断目标主机的位置非常有意义。

2.扫描

完成资料收集后，一般使用各种扫描工具对目标进行扫描，以定位目标的弱点位置。

- ping扫描：确定目标主机是否存活。Unix中有Fping；Windows中有Ping Sweep，该工具能在7S之内扫描一个C类地址，并完成地址解析。（ping通过发送ICMP包）
- ICMP查询：Unix工具icmpquery
- 操作系统指纹识别：协议栈指纹识别是一项非常强大的技术，它能够识别每台主机上的操作系统。（原理：不同公司设计的IP协议栈存在很多细微差别，可利用这些差异对目标的操作系统进行猜测）
- 端口扫描：连接到目标系统的TCP和UDP端口上，确定哪些服务正在运行（即处于监听状态）的过程。监听着的活动服务可能允许未经授权的用户取得对配置不当的系统或对已运行软件存在已知安全弱点的系统的访问权。
- 拓扑自动发现：利用另一种形式的扫描，它使用traceRoute原理，根据ICMP返回的路径和标识来确定网络的拓扑结构。该类软件有不少，但优秀的工具有Cheops和Tkined。


3.渗透：

- 弱口令：应用FTP或者Web的弱口令是最有可能直接得到的信息。扫描工具可以根据猜测字典自动暴力破解该口令。
- 开放端口：判断该主机是否开放了常见的可攻击的端口；如3389端口，该窗口可以直接尝试进行远程连接，而不用再猜测该端口到底提供什么样的服务。
- 开放服务：主要指Web、FTP、数据库服务。
- 操作系统版本信息
- 操作系统的漏洞信息
- 应用软件的漏洞信息


4.权限提升

```shell
#登录远程服务器
telnet 192.168.*.*
#建立用户cert，密码certpwd
net user cert certpwd /add
#将该用户加入到管理员组中
net localgroup administrators cert /add
```


## 5.信息收集

### Google搜索
`A+B`表示包含A也包含B的网页；`A-B`包含A但不包含B。或使用大写的OR或AND代替

`"关键字"`

`site:` 表示搜索结果局限于某个具体的网站或网站频道；如`www.sina.com.cn`，`tech.sina.com.cn`或者是某个域名，如`com.cn`等。如要排除某网站或者域名范围内的页面，只需使用`-网站/域名`。

> site的冒号后不能有空格，另外网站域名不能有"http://"前缀，也不能有任何"/"的目录后缀。

`filetype:` 在某一类文件中查找信息。举例：`网络安全 filetype:pdf` 

`inurl:关键字1 关键字2 关键字3 ...` 返回的网页链接中包含第一个关键字，后面的关键字则出现在链接或网页文档中。     
`allinurl:关键字1 关键字2 关键字3 ...` 查询的关键字只集中在网页的链接字符串中。示例：`allinurl:"cgi-bin" phf+com`  

`intitle:关键字1 关键字2 关键字3 ...`    
`allintitle:关键字1 关键字2 关键字3 ... `  

`inanchor:`   
`allinanchor `  

`link:` (不能与其它语法混用)，例如： link:www.sina.com.cn

`cache:` 从Google服务器上的缓存页面中查询信息。

> 发现 index of/admin
> Google的一个重要功能是可以按照一些软件的关键特征进行搜索。如：`index of/admin` 就是一个例子。利用`index of` 语句能够浏览一些隐藏在互联网背后的开放了目录浏览的网站服务器的目录。示例：搜索 `intitle:index of/admin`
> 还有：`index of /passwd` `"index of /cgi-bin"` `"index of /config"` `"index of /logs"` ...

>利用inurl或allinurl寻找缺陷站点或服务器
>可以查询所有通过Web方式访问的限制目录和文件，如passwd.txt等。示例：`allinurl:wwwboard/passwd.txt`

### Whois：注册信息查询工具
[ARIN:国际域名注册机构（查询早期域名或IP）](https://www.arin.net/)   
[APNIC:亚太域名注册机构（查询亚太地区...）](https://www.apnic.net/)   
[CNNIC:中国域名注册机构](http://www.cnnic.cn/)   
阿里   
腾讯   
百度   



### DNS查询
域名服务中的两个基本概念：域名注册和解析。   
注册和解析的对象：主机名和IP地址。   
主机名和IP地址必须注册。注册就是将主机名和IP地址记录在一个列表或目录中。   
注册可以是自动的、静态的、动态的。动态更新是用**DHCP服务器**完成，或由具有**动态DNS更新**能力的主机完成。   
动态DNS功能   

另一种自动注册的方法是通过DHCP服务器向具有动态DNS功能的DNS服务器注册名字。DHCP自动为客户机分配IP地址。当注册完成后所有的DNS服务器都接收到主机的注册信息。

> 根域。域的层次。




## 6.扫描目标







>星型拓扑结构，或者总线型，环形拓扑结构。

星型结构中心位置的设备称为集线器（Hub），易于维护和安全等优点。但但中心系统必须具有极高的可靠性，且通常采用双机热备份。


交换型以太网，交换型集线器也称以太网交换器。

以太网交换机的部署：    
交换机与交换机之间的连接模式有：级连模式，堆叠模式。

级连模式：最常规、最直接的一种扩展方式。级连是通过端口进行的，级连后两台交换机是上下级的关系。级连最多不能超过4层。  


> **1.PGP**
> PGP加密軟件，加密郵件，加密磁盤，加密文件。PGP Desktop軟件。
> [PGP.cn](http://www.pgp.cn/)PGP中國：创建一个在中国可以让人信任的公钥发布/查询/下载网站，我们承诺，公钥发布/查询/下载的功能将永远免费。
> PGP的一些作用：（利用公鑰進行加密和簽名）
>
- 對Email進行加密
- 加密一些文本信息，比如（註冊信息），使用PGP加密這些信息后可將加密后的密文發佈到自己的Blog上，什麼時候需要就取回密文進行解密。
- 簽名功能：可以利用PGP的簽名功能對你在網絡上的言論進行簽名，防止他人篡改你的原文（具體原理略）。

> 对文字内容及文件进行加密、解密、签名的方法見該網站。
> OpenPGP
> [Symantec Encryption (PGP) Documentation](https://support.symantec.com/en_US/article.TECH202483.html) 客户端/服务器架构。

> **2.數據庫加密**
> ...











